(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),i=n(26),s=n.n(i),o=n(56),u=n(7),d=n(10),j=n.n(d),l=n(21),b=n(19),p=n(20),h=n(23),f=n(22),x=n(11),O=n(12);function m(){var e=Object(x.a)(["\n  max-width: 100%;\n  height: 42px;\n"]);return m=function(){return e},e}function v(){var e=Object(x.a)(["\n  padding: 3rem;\n  text-align: center;\n  color: #fff;\n"]);return v=function(){return e},e}var g=O.a.div(v()),k=O.a.img(m()),y=n.p+"static/media/lagosta.d51698ec.svg";var w=function(e){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(g,{children:[Object(r.jsx)(k,{src:y,alt:"Pitu - Encurtador de URL"}),Object(r.jsx)("h1",{children:"Pitu"}),Object(r.jsx)("p",{children:e.children})]})})},L=n(94),S=n(95),M=n(101),R=n(96),C=n(97),U=n(100);function N(){var e=Object(x.a)(["\n  border: solid 1px #f7f7f7;\n  background-color: #f1f1f1;\n  text-center;\n  padding: 2rem;\n  flex: 0 0 80%;\n  max-width: 80%;\n"]);return N=function(){return e},e}function D(){var e=Object(x.a)(["\n  flex: 0 0 80%;\n  max-width: 80%;\n  padding: 2rem 2rem 1rem 2rem;\n  border: solid 1px #ccc;\n  border-radius: .25rem;\n  text-align: center;\n"]);return D=function(){return e},e}function E(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center !important;\n  margin-bottom: 2rem;\n"]);return E=function(){return e},e}var F=O.a.div(E()),A=O.a.form(D()),P=(O.a.div(N()),n(53)),V=n.n(P),z=function(e){return V.a.create({baseURL:e})},J=function(){function e(){Object(b.a)(this,e),this.api=z("http://api.pitutest.tk:3001/")}return Object(p.a)(e,[{key:"getLink",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("links/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStats",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.get("links/".concat(t,"/stats"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"generate",value:function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.post("links",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),T=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).handleSubmit=function(){var e=Object(l.a)(j.a.mark((function e(t){var n,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=r.state.url,r.setState({isLoading:!0,errorMessage:""}),n){e.next=7;break}r.setState({isLoading:!1,errorMessage:"informe uma url para encurtart."}),e.next=18;break;case 7:return e.prev=7,a=new J,e.next=11,a.generate({url:n});case 11:c=e.sent,r.setState({isLoading:!1,code:c.code}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),r.setState({isLoading:!1,errorMessage:"Ops, ocorreu um erro ao encurtar a url."});case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}(),r.copyToClipboard=function(){r.inputURL.select(),document.execCommand("copy")},r.state={isLoading:!1,url:"",code:"",errorMessage:""},r}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.errorMessage,c=t.code;return Object(r.jsxs)(L.a,{children:[Object(r.jsx)(w,{children:"Seu novo encurtador de URL. :"}),Object(r.jsx)(F,{children:Object(r.jsxs)(A,{onSubmit:this.handleSubmit,children:[Object(r.jsxs)(S.a,{className:"mb-3",children:[Object(r.jsx)(M.a,{placeholder:"Digite a url para encurtar",defaultValue:"",onChange:function(t){return e.setState({url:t.target.value})}}),Object(r.jsx)(S.a.Append,{children:Object(r.jsx)(R.a,{variant:"primary",type:"submit",children:"Encuntar"})})]}),n?Object(r.jsx)(C.a,{animation:"border"}):c&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(S.a,{children:[Object(r.jsx)(M.a,{autoFocus:!0,defaultValue:"http://pitutest.tk:3000/"+c,ref:function(t){return e.inputURL=t}}),Object(r.jsx)(S.a.Append,{children:Object(r.jsx)(R.a,{variant:"outline-secondary",onClick:function(){return e.copyToClipboard()},children:"Copiar"})})]}),Object(r.jsxs)("p",{children:["Para acompanhar as estast\xedticas, acesse ","http://pitutest.tk:3000/"+c+"/stats"]})]}),a&&Object(r.jsx)(U.a,{variant:"danger",children:a})]})})]})}}]),n}(c.a.Component),B=n(31);function I(){var e=Object(x.a)(["\n  display: block;\n  color: #fff;\n"]);return I=function(){return e},e}function q(){var e=Object(x.a)(["\n    display: flex;\n    justify-content: center;\n"]);return q=function(){return e},e}var G=O.a.div(q()),H=O.a.div(I()),K=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={isLoading:!1,url:"",errorMessage:""},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.code,e.prev=1,n=new J,e.next=5,n.getLink(t);case 5:r=e.sent,a=r.url,window.location=a,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),this.setState({isLoading:!1,errorMessage:"Ops, a url solicitada n\xe3o existe"});case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.errorMessage;return Object(r.jsx)(L.a,{children:e?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(w,{children:"Ser novo encurtador de URL. :"}),Object(r.jsxs)(H,{className:"text-center",children:[Object(r.jsx)(B.a,{size:"3x",color:"#f8d7da",icon:"exclamation-triangle"}),Object(r.jsx)("p",{className:"m-3",children:e}),Object(r.jsx)("a",{className:"btn btn-primary",href:"/",children:"Encurtar uma nova url"})]})]}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(w,{children:"Redirecionando..."}),Object(r.jsx)(G,{children:Object(r.jsx)(C.a,{color:"success",animation:"grow",style:{height:"5rem",width:"5rem"}})})]})})}}]),n}(c.a.Component);function Q(){var e=Object(x.a)(["\n  font-weight: 500;\n  padding: 0.25rem;\n  display: block;\n"]);return Q=function(){return e},e}function W(){var e=Object(x.a)(["\n  flex: 0 0 25%;\n  max-width: 25%;\n  padding: 2rem;\n  border: solid 1px #ccc;\n  border-radius: .25rem;\n  margin: .5rem;\n"]);return W=function(){return e},e}function X(){var e=Object(x.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center !important;\n  margin-bottom: 0.5rem;\n"]);return X=function(){return e},e}function Y(){var e=Object(x.a)(["\n  display: block;\n  color: #fff;\n"]);return Y=function(){return e},e}var Z=O.a.div(Y()),$=O.a.div(X()),_=O.a.div(W()),ee=O.a.div(Q()),te=n(98),ne=n(99),re=n(58),ae=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(b.a)(this,n),(r=t.call(this,e)).state={iLoading:!1,shortenedURL:{},errorMessage:""},r}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(j.a.mark((function e(){var t,n,r,a,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.code,e.prev=1,n=new J,e.next=5,n.getStats(t);case 5:r=e.sent,a=Object(te.a)(r.updatedAt),c=new Date,i=Object(ne.a)(a,c,{locale:re.a}),r.relativeDate=i,this.setState({isLoading:!1,shortenedURL:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),this.setState({isLoading:!1,errorMessage:"Ops, a url solicitada n\xe3o existe."});case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.errorMessage,n=e.shortenedURL;return Object(r.jsxs)(L.a,{children:[Object(r.jsx)(w,{children:"Estat\xedsticas"}),t?Object(r.jsxs)(Z,{className:"text-center",children:[Object(r.jsx)(B.a,{size:"3x",color:"#f8d7da",icon:"exclamation-triangle"}),Object(r.jsx)("p",{className:"m-3",children:t}),Object(r.jsx)("a",{className:"btn btn-primary",href:"/",children:"Encurtar uma nova url"})]}):Object(r.jsxs)(Z,{className:"text-center",children:[Object(r.jsx)("p",{children:Object(r.jsx)("b",{children:"".concat("http://pitutest.tk:3000/").concat(n.code)})}),Object(r.jsxs)("p",{children:["Redireciona para: ",Object(r.jsx)("br",{}),n.url]}),Object(r.jsxs)($,{children:[Object(r.jsxs)(_,{children:[Object(r.jsx)("b",{children:n.hits}),Object(r.jsx)(ee,{children:"Visitas"})]}),Object(r.jsxs)(_,{children:[Object(r.jsx)("b",{children:n.relativeDate}),Object(r.jsx)(ee,{children:"\xf9ltima visita"})]})]}),Object(r.jsx)("a",{className:"btn btn-primary",href:"/",children:"Encurtar nova URL"})]})]})}}]),n}(c.a.Component),ce=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(b.a)(this,n),t.call(this,e)}return Object(p.a)(n,[{key:"render",value:function(){return Object(r.jsx)("p",{children:"page not found!"})}}]),n}(c.a.Component);var ie=function(){return Object(r.jsx)(o.a,{children:Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{exact:!0,path:"/",component:T}),Object(r.jsx)(u.a,{exact:!0,path:"/:code",component:K}),Object(r.jsx)(u.a,{exact:!0,path:"/:code/stats",component:ae}),Object(r.jsx)(u.a,{exact:!0,path:"/*",component:ce})]})})},se=function(){return Object(r.jsx)(ie,{})},oe=(n(90),n(29)),ue=n(57);oe.b.add(ue.a),s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(se,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.00918ccb.chunk.js.map