{"version":3,"sources":["components/Header/styles.js","assets/lagosta.svg","components/Header/index.js","pages/HomePage/style.js","services/api.js","services/shortnerService.js","pages/HomePage/index.js","pages/RedirectPage/style.js","pages/RedirectPage/index.js","pages/StatsPage/styles.js","pages/StatsPage/index.js","pages/NotFoundPage/index.js","routes/index.js","App.js","index.js"],"names":["HeaderContainer","styled","div","Logo","img","Header","props","src","Icon","alt","children","ContentContainer","Form","form","baseAPI","baseURL","axios","create","ShortnerService","this","api","process","code","get","result","data","model","post","HomePage","handleSubmit","event","a","preventDefault","url","state","setState","isLoading","errorMessage","service","generate","copyToClipboard","inputURL","select","document","execCommand","Container","onSubmit","InputGroup","className","FormControl","placeholder","defaultValue","onChange","e","target","value","Append","Button","variant","type","Spinner","animation","autoFocus","ref","input","onClick","Alert","React","Component","Loading","style","StatsContainer","RedirectPage","match","params","Shortener","getLink","window","location","size","color","icon","href","height","width","StatsRow","StatsBox","StatsBoxTitle","StatsPage","iLoading","shortenedURL","getStats","parsedDate","parseISO","updatedAt","currentDate","Date","relativeDate","formatRelative","locale","ptBR","hits","NotFoundPage","Routes","exact","path","component","App","library","add","faExclamationTriangle","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.00918ccb.chunk.js","sourcesContent":["import styled from 'styled-components'\r\n\r\nexport const HeaderContainer = styled.div`\r\n  padding: 3rem;\r\n  text-align: center;\r\n  color: #fff;\r\n`\r\n\r\nexport const Logo = styled.img`\r\n  max-width: 100%;\r\n  height: 42px;\r\n`","export default __webpack_public_path__ + \"static/media/lagosta.d51698ec.svg\";","import React from 'react'\r\nimport { Logo, HeaderContainer } from './styles'\r\n\r\nimport Icon from '../../assets/lagosta.svg'\r\n\r\nfunction Header(props){\r\n    return (\r\n    <>\r\n        <HeaderContainer>\r\n            <Logo src={Icon} alt='Pitu - Encurtador de URL'/>\r\n            <h1>Pitu</h1>\r\n            <p>{props.children}</p>\r\n        </HeaderContainer>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Header","import styled from 'styled-components'\r\n\r\nexport const ContentContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center !important;\r\n  margin-bottom: 2rem;\r\n`\r\n\r\nexport const Form = styled.form`\r\n  flex: 0 0 80%;\r\n  max-width: 80%;\r\n  padding: 2rem 2rem 1rem 2rem;\r\n  border: solid 1px #ccc;\r\n  border-radius: .25rem;\r\n  text-align: center;\r\n`\r\n\r\nexport const AdsBlock = styled.div`\r\n  border: solid 1px #f7f7f7;\r\n  background-color: #f1f1f1;\r\n  text-center;\r\n  padding: 2rem;\r\n  flex: 0 0 80%;\r\n  max-width: 80%;\r\n`","import axios from 'axios'\r\n\r\nconst baseAPI = (baseURL) =>{\r\n    const api = axios.create({\r\n        baseURL,\r\n    })\r\n\r\n    return api\r\n}\r\n\r\nexport default baseAPI","import baseAPI from './api'\r\n\r\nclass ShortnerService{\r\n    constructor(){\r\n        this.api = baseAPI(process.env.REACT_APP_API)\r\n    }\r\n\r\n    async getLink(code){\r\n        const result = await this.api.get(`links/${code}`)\r\n\r\n        return result.data\r\n    }\r\n\r\n    async getStats(code){\r\n        const result = await this.api.get(`links/${code}/stats`)\r\n\r\n        return result.data\r\n    }\r\n\r\n    async generate(model){\r\n        const result = await this.api.post('links', model)\r\n\r\n        return result.data\r\n    }\r\n}\r\n\r\nexport default ShortnerService","import React from 'react'\r\nimport Header from '../../components/Header'\r\nimport { Container, InputGroup, FormControl, Button, Alert, Spinner } from 'react-bootstrap'\r\nimport { ContentContainer, Form} from './style'\r\nimport ShortnerService from '../../services/shortnerService'\r\n\r\nclass HomePage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isLoading: false,\r\n      url: '',\r\n      code: '',\r\n      errorMessage: ''\r\n    }\r\n  }\r\n\r\n  handleSubmit = async (event) => {\r\n    event.preventDefault()\r\n\r\n    const { url } = this.state\r\n\r\n    this.setState({ isLoading: true, errorMessage: '' })\r\n\r\n    if(!url){\r\n      this.setState({ isLoading: false, errorMessage: 'informe uma url para encurtart.'})\r\n    }else{\r\n      try{\r\n        const service = new ShortnerService()\r\n        const result = await service.generate({ url })\r\n\r\n        this.setState({ isLoading: false, code: result.code})\r\n      }catch(error){\r\n        this.setState({ isLoading: false, errorMessage: 'Ops, ocorreu um erro ao encurtar a url.'})\r\n      }\r\n    }\r\n  }\r\n\r\n  copyToClipboard = () => {\r\n    const element = this.inputURL\r\n    element.select()\r\n    document.execCommand('copy')\r\n  }\r\n\r\n  render(){\r\n    const { isLoading, errorMessage, code} = this.state\r\n    return (\r\n      <Container>\r\n        <Header>Seu novo encurtador de URL. :</Header>\r\n        <ContentContainer>\r\n          <Form onSubmit={this.handleSubmit}>\r\n            <InputGroup className=\"mb-3\">\r\n              <FormControl\r\n                placeholder=\"Digite a url para encurtar\"\r\n                defaultValue=\"\"\r\n                onChange={e => this.setState({ url: e.target.value })}\r\n              />\r\n              <InputGroup.Append>\r\n              <Button variant=\"primary\" type=\"submit\">Encuntar</Button>\r\n              </InputGroup.Append>\r\n            </InputGroup>\r\n\r\n            {isLoading ? (\r\n                <Spinner animation=\"border\" />\r\n              ): (\r\n                code && (\r\n                  <>\r\n                    <InputGroup>\r\n                      <FormControl\r\n                        autoFocus={true}\r\n                        defaultValue={process.env.REACT_APP_HOST + code}\r\n                        ref={(input) => this.inputURL = input}\r\n                      />\r\n                    <InputGroup.Append>\r\n                      <Button variant=\"outline-secondary\" onClick={() => this.copyToClipboard()}>Copiar</Button>\r\n                    </InputGroup.Append>\r\n                    </InputGroup>\r\n                    <p>Para acompanhar as estastíticas, acesse {process.env.REACT_APP_HOST + code + '/stats'}</p>\r\n                  </>\r\n                )\r\n              )}\r\n              {errorMessage && <Alert variant=\"danger\">{errorMessage}</Alert>}\r\n          </Form>\r\n        </ContentContainer>\r\n        {/* <ContentContainer>\r\n          <AdsBlock>\r\n            AdSense\r\n          </AdsBlock>\r\n        </ContentContainer> */}\r\n        </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HomePage","import style from 'styled-components'\r\n\r\nexport const Loading = style.div`\r\n    display: flex;\r\n    justify-content: center;\r\n`\r\n\r\nexport const StatsContainer = style.div`\r\n  display: block;\r\n  color: #fff;\r\n`","import React from 'react'\r\nimport Header from '../../components/Header'\r\nimport { Container, Spinner} from 'react-bootstrap'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { Loading, StatsContainer } from './style'\r\n\r\nimport Shortener from '../../services/shortnerService'\r\n\r\nclass RedirectPage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      isLoading: false,\r\n      url: '',\r\n      errorMessage: ''\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { code } = this.props.match.params\r\n\r\n    try{\r\n      const service = new Shortener()\r\n      const { url } = await service.getLink(code)\r\n\r\n      window.location = url\r\n    }catch(error){\r\n      this.setState({ isLoading: false, errorMessage: 'Ops, a url solicitada não existe'})\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { errorMessage } = this.state\r\n    return (\r\n      <Container>\r\n          {errorMessage ? (\r\n              <>\r\n              <Header>Ser novo encurtador de URL. :</Header>\r\n              <StatsContainer className=\"text-center\">\r\n              <FontAwesomeIcon size=\"3x\" color=\"#f8d7da\" icon=\"exclamation-triangle\" />\r\n              <p className=\"m-3\">{errorMessage}</p>\r\n              <a className=\"btn btn-primary\" href=\"/\">Encurtar uma nova url</a>\r\n              </StatsContainer>\r\n              </>\r\n            ): (\r\n              <>\r\n                <Header>Redirecionando...</Header>\r\n                <Loading>\r\n                  <Spinner color=\"success\" animation=\"grow\" style={{height: '5rem', width: '5rem'}}/>\r\n                </Loading>\r\n              </>\r\n            )\r\n          }\r\n      </Container> \r\n    )\r\n  }\r\n}\r\n\r\nexport default RedirectPage","import styled from 'styled-components'\r\n\r\nexport const StatsContainer = styled.div`\r\n  display: block;\r\n  color: #fff;\r\n`\r\n\r\nexport const StatsRow = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center !important;\r\n  margin-bottom: 0.5rem;\r\n`\r\n\r\nexport const StatsBox = styled.div`\r\n  flex: 0 0 25%;\r\n  max-width: 25%;\r\n  padding: 2rem;\r\n  border: solid 1px #ccc;\r\n  border-radius: .25rem;\r\n  margin: .5rem;\r\n`\r\n\r\nexport const StatsBoxTitle = styled.div`\r\n  font-weight: 500;\r\n  padding: 0.25rem;\r\n  display: block;\r\n`","import React from 'react'\r\nimport Header from '../../components/Header'\r\nimport { Container } from 'react-bootstrap'\r\nimport { StatsBox, StatsBoxTitle, StatsContainer, StatsRow } from './styles'\r\n\r\nimport ShortnerService from '../../services/shortnerService'\r\n\r\nimport { parseIso, formatRelative, parseISO } from 'date-fns'\r\n\r\nimport ptBR from 'date-fns/locale/pt-BR'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nclass StatsPage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      iLoading: false,\r\n      shortenedURL: {},\r\n      errorMessage: ''\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { code } = this.props.match.params\r\n    try{\r\n      const service = new ShortnerService()\r\n      const shortenedURL = await service.getStats(code)\r\n\r\n      const parsedDate = parseISO(shortenedURL.updatedAt)\r\n      const currentDate = new Date()\r\n\r\n      const relativeDate = formatRelative(parsedDate, currentDate, {\r\n        locale: ptBR,\r\n      })\r\n\r\n      shortenedURL.relativeDate = relativeDate\r\n\r\n      this.setState({isLoading: false, shortenedURL})\r\n    }catch(err){\r\n      this.setState({isLoading: false, errorMessage: 'Ops, a url solicitada não existe.'})\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const {errorMessage, shortenedURL} = this.state\r\n    return (\r\n      <Container>\r\n        <Header>Estatísticas</Header>\r\n        {errorMessage ? (\r\n          <StatsContainer className=\"text-center\">\r\n            <FontAwesomeIcon size=\"3x\" color=\"#f8d7da\" icon=\"exclamation-triangle\" />\r\n          <p className=\"m-3\">{errorMessage}</p>\r\n          <a className=\"btn btn-primary\" href=\"/\">Encurtar uma nova url</a>\r\n          </StatsContainer>\r\n        )\r\n        :\r\n        (\r\n          <StatsContainer className=\"text-center\">\r\n            <p><b>{`${process.env.REACT_APP_HOST}${shortenedURL.code}`}</b></p>\r\n            <p>Redireciona para: <br/>{shortenedURL.url}</p>\r\n            <StatsRow>\r\n              <StatsBox>\r\n                <b>{shortenedURL.hits}</b>\r\n                <StatsBoxTitle>\r\n                  Visitas\r\n                </StatsBoxTitle>\r\n              </StatsBox>\r\n              <StatsBox>\r\n                <b>{shortenedURL.relativeDate}</b>\r\n                <StatsBoxTitle>\r\n                  ùltima visita\r\n                </StatsBoxTitle>\r\n              </StatsBox>\r\n            </StatsRow>\r\n            <a className=\"btn btn-primary\" href=\"/\">Encurtar nova URL</a>\r\n          </StatsContainer>\r\n        )}\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default StatsPage","import React from 'react'\r\n\r\nclass NotFoundPage extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <p>page not found!</p>\r\n    )\r\n  }\r\n}\r\n\r\nexport default NotFoundPage","import React from 'react'\r\nimport {\r\n  BrowserRouter,\r\n  Switch,\r\n  Route\r\n} from 'react-router-dom'\r\n\r\nimport HomePage from '../pages/HomePage'\r\nimport RedirectPage from '../pages/RedirectPage'\r\nimport StatsPage from '../pages/StatsPage'\r\nimport NotFoundPage from '../pages/NotFoundPage'\r\n\r\nfunction Routes() {\r\n  return ( \r\n    <BrowserRouter >\r\n      <Switch>\r\n        <Route exact path=\"/\" component={HomePage} />\r\n        <Route exact path=\"/:code\" component={RedirectPage} />\r\n        <Route exact path=\"/:code/stats\" component={StatsPage} />\r\n        <Route exact path=\"/*\" component={NotFoundPage} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Routes","import Routes from './routes'\n\nconst App = () => <Routes />\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './App.scss'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faExclamationTriangle } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(faExclamationTriangle)\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}